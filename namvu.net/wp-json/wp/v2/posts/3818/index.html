{"id":3818,"date":"2018-08-17T16:14:45","date_gmt":"2018-08-17T09:14:45","guid":{"rendered":"https:\/\/namvu.net\/?p=3818"},"modified":"2019-04-02T18:10:16","modified_gmt":"2019-04-02T11:10:16","slug":"installing-autodesk-maya-2018-update-3-on-deepin-linux-15-6","status":"publish","type":"post","link":"https:\/\/namvu.net\/2018\/08\/installing-autodesk-maya-2018-update-3-on-deepin-linux-15-6\/","title":{"rendered":"Installing Autodesk Maya 2018 Update 3 on Deepin Linux 15.6"},"content":{"rendered":"<div  class=\"tatsu-fuctf4qujl6k8y1b tatsu-section    tatsu-clearfix\" data-title=\"\"  data-headerscheme=\"background--dark\"><div class='tatsu-section-pad clearfix' data-padding='{\"d\":\"15px 0px 15px 0px\"}' data-padding-top='15px'><div class=\"tatsu-row-wrap  tatsu-wrap tatsu-row-one-col tatsu-row-has-one-cols tatsu-medium-gutter tatsu-reg-cols  tatsu-clearfix tatsu-fuctf4qurh8mmq8q\" ><div  class=\"tatsu-row \" ><div  class=\"tatsu-column  tatsu-column-no-bg tatsu-one-col tatsu-column-image- tatsu-column-effect-  tatsu-fuctf4quz49g6nqk\" data-animation=\"fadeIn\"   data-parallax-speed=\"0\" style=\"\"><div class=\"tatsu-column-inner \" ><div class=\"tatsu-column-pad-wrap\"><div class=\"tatsu-column-pad\" ><div  class=\"tatsu-module tatsu-text-block-wrap tatsu-fuctf4r3w95528q3  \"><div class=\"tatsu-text-inner tatsu-align-center  clearfix\" data-animation=\"fadeIn\"  ><style>.tatsu-fuctf4r3w95528q3.tatsu-text-block-wrap .tatsu-text-inner{width: 100%;}<\/style>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"aligncenter size-full\" src=\"https:\/\/i.imgur.com\/xbISq6Z.png\" width=\"1918\" height=\"1012\" alt=\"\" title=\"\"><\/p>\n<p>Okay so this is pretty much a journal of how I managed to get Maya to run for the first time on one my my Linux boxes.<\/p>\n<p>As you may have know, Autodesk is one of the major names in the graphic and VFX industry, with their line-up of industry standard softwares like 3DS Max, Maya etc.<\/p>\n<p>Unfortunately, for some reasons they still couldn&#8217;t hire a capable engineer who could create a half decent installer package for the Linux platform. Maya is the only software in their lineup that is still currently being maintained for Linux, and even then it&#8217;s still using old packaging techniques from 20 years ago, made for RPM-based Linux distros (which made sense at the time since professional Linux distros are mostly RPM-based, Red Hat, CentOS, etc.). But 20 years later, with the rise of Ubuntu and its DEB-based variants, the RPM distros now hold only a fraction of the market share. And yet, for some reason, official Maya installer is still created with RPM in mind. I reckon it&#8217;s either they couldn&#8217;t afford a capable engineer, or the guy who&#8217;s responsible for maintaining Linux installers is too old to learn new technologies (as an old guy working in the tech industry myself, I deeply sympathize).<\/p>\n<p><!--more--><\/p>\n<p>Luckily for them, a genius called Christoph Lameter came in and saved the day with Alien &#8211; a package converter which is capable of converting RPMs to DEBs. This little tool enabled something that the entire workforce under Autodesk couldn&#8217;t achieve for many decades: making Maya work on DEB-based distro (granted there&#8217;s still like a metric ton of dependencies errors that can and will drive you crazy if you have to figure them all out on your own, but that&#8217;s why we&#8217;re here right?). And to think Autodesk could&#8217;ve saved billions in salary expenses over the year just by hiring someone who knows how to do the job&#8230;but I digress.<\/p>\n<p>Enough ranting, let&#8217;s go to the topic at hand. I figure the screenshot below is why you are all here:<\/p>\n<p><img decoding=\"async\" loading=\"lazy\" class=\"aligncenter size-full\" src=\"https:\/\/i.imgur.com\/xbISq6Z.png\" width=\"1918\" height=\"1012\" alt=\"\" title=\"\"><\/p>\n<p>Intrigued yet? That&#8217;s right, Maya 2018.3 working perfectly under Deepin Linux (well, not perfectly, it&#8217;s still puking a bunch of errors out in the terminal everytime it launches, but it&#8217;s functional)<\/p>\n<p>Now let&#8217;s get to it.<\/p>\n<p>Oh right, before we begin, make sure you have the latest driver for your graphic card. I&#8217;m using a 1050 TI, so the latest stable Linux stable version is nvidia-390 (or 396 for the cutting edge), unfortunately the latest one that works with Deepin is only 387, so I&#8217;m still stuck with that. But if you&#8217;re on Ubuntu or something, you should definitely upgrade to the latest one.<\/p>\n<h4>1. Download Maya 2018.3<\/h4>\n<p>Okay first thing first, grab the official Maya 2018.3 installer from Autodesk server:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">https:\/\/up.autodesk.com\/2018\/MAYA\/4A3226EE-E90A-4E0A-9BE7-58D657D6F872\/Autodesk_Maya_2018_3_Update_Linux_64bit.tgz<\/pre>\n<p>&nbsp;<\/p>\n<p>Extract it. We&#8217;ll come back for it later<\/p>\n<h4>2. Installing Dependencies<\/h4>\n<p>Figure out the missing dependencies is the most nightmarish part if you&#8217;re installing Maya for the first time, since Autodesk&#8217;s incompetent engineers couldn&#8217;t bake a proper dependency list into the installer. Luckily, after a lof of trial and error, I think I may have got a list of what is needed. Here&#8217;s what you want to install:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"shell\">sudo apt-get install -y libtbb-dev libtiff5-dev libssl-dev libpng12-dev libssl1.0.0 gcc libjpeg62<\/pre>\n<p>&nbsp;<\/p>\n<p>That&#8217;s not all, you will also need to install the aforementioned Alien tool to convert the RPMs to DEBs<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"shell\">sudo apt-get install -y alien elfutils<\/pre>\n<p>&nbsp;<\/p>\n<p>Next, install the required multimedia, graphic libraries, and some fonts:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"shell\">sudo apt-get install -y libaudiofile-dev libgstreamer-plugins-base0.10-0 libglw1-mesa libglw1-mesa-dev mesa-utils xfonts-100dpi xfonts-75dpi ttf-mscorefonts-installer fonts-liberation csh tcsh libfam0 libfam-dev xfstt<\/pre>\n<p>&nbsp;<\/p>\n<p>Welp, that&#8217;s a lot of craps to install, imagine if you have to figure out how to install on your own, eh? BUT, that&#8217;s not all, you will also need to install <strong>libxp6 <\/strong>which is available <a href=\"http:\/\/launchpadlibrarian.net\/183708483\/libxp6_1.0.2-2_amd64.deb\" target=\"_blank\" rel=\"noopener\">here<\/a>:<\/p>\n<p>You could install it using the GUI like a normal person, or you could be elitist and install it using the terminal:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">wget http:\/\/launchpadlibrarian.net\/183708483\/libxp6_1.0.2-2_amd64.deb<\/pre>\n<p>&nbsp;<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">sudo dpkg -i libxp6_1.0.2-2_amd64.deb<\/pre>\n<p>&nbsp;<\/p>\n<h4>3. Converting the RPM<\/h4>\n<p>Now let&#8217;s head back to that Maya installer folder that you downloaded earlier, you will see a bunch of RPMs in there just waiting to be converted. Execute this command in that folder (should be in the same folder that contains the <em>setup<\/em> script)<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">sudo alien -cv *.rpm<\/pre>\n<p>&nbsp;<\/p>\n<p>It&#8217;s gonna take a while, after everything is completed, install the sweet new DEBs:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">sudo dpkg -i *.deb<\/pre>\n<p>&nbsp;<\/p>\n<p>(if you&#8217;ve installed other Autodesk software before, you <em>might<\/em> get an error with trying to install a duplicate package, in that case, you need to use the switch <em>&#8211;force-overwrite<\/em> to force it to install)<\/p>\n<p>Next, create an executable that always returns true (for rpm installer):<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">echo \"int main (void) {return 0;}\" &gt; mayainstall.c<\/pre>\n<p>&nbsp;<\/p>\n<p>Compile it:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">gcc mayainstall.c<\/pre>\n<p>&nbsp;<\/p>\n<p>Before next step, you&#8217;ll want to back up your rpm<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">sudo mv -v \/usr\/bin\/rpm \/usr\/bin\/rpm_backup<\/pre>\n<p>&nbsp;<\/p>\n<p>Now you can copy the file over<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">sudo cp -v a.out \/usr\/bin\/rpm<\/pre>\n<p>&nbsp;<\/p>\n<h4>4. Linking Libaries<\/h4>\n<p>Yep, not only do you have to hunt down them dependencies, you also have to manually create symlinks for libs that Maya 2018 depends on, otherwise that shit won&#8217;t run. Here&#8217;s the commands to do that:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">sudo ln -s \/usr\/lib\/x86_64-linux-gnu\/libtbb.so \/usr\/lib\/x86_64-linux-gnu\/libtbb_preview.so.2\r\nsudo ln -s \/usr\/lib\/x86_64-linux-gnu\/libtiff.so \/usr\/lib\/libtiff.so.3\r\nsudo ln -s \/usr\/lib\/x86_64-linux-gnu\/libssl.so \/usr\/autodesk\/maya2018\/lib\/libssl.so.10\r\nsudo ln -s \/usr\/lib\/x86_64-linux-gnu\/libcrypto.so \/usr\/autodesk\/maya2018\/lib\/libcrypto.so.10<\/pre>\n<p>&nbsp;<\/p>\n<h4>5. Run Maya 2018.3 Setup Installer<\/h4>\n<p>Make sure the install script is executable:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">sudo chmod +x setup<\/pre>\n<p>&nbsp;<\/p>\n<p>Then run it:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">sudo .\/setup<\/pre>\n<p>&nbsp;<\/p>\n<p>Go through the setup like usual, it should be very fast you pretty much already installed everything with the DEBs, this setup script will only help you create the menu entries and stuffs.<\/p>\n<h3>6. Post installation<\/h3>\n<p>Yep, even after going through all that, you&#8217;re not done yet. There&#8217;s still a bunch of crap you need to do. First of all, you have to manually create the Temp folder for Maya:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">sudo mkdir -p \/usr\/tmp\r\nsudo chmod 777 \/usr\/tmp<\/pre>\n<p>&nbsp;<\/p>\n<p>Now make some directories for Maya config files:<\/p>\n<pre><code>mkdir -p ~\/maya\/2018 ~\/maya\/2018\/syncColor\/Shared<\/code><\/pre>\n<p>Run the following command to fix segmentation fault errors:<\/p>\n<pre><code>echo \"MAYA_DISABLE_CIP=1\" &gt;&gt; ~\/maya\/2018\/Maya.env<\/code><\/pre>\n<p>If you get color management errors, try this:<\/p>\n<pre><code><span class=\"kw3\">echo<\/span> <span class=\"st0\">\"LC_ALL=C\"<\/span> <span class=\"sy0\">&gt;&gt;<\/span> ~<span class=\"sy0\">\/<\/span>maya<span class=\"sy0\">\/<\/span><span class=\"nu0\">2018<\/span><span class=\"sy0\">\/<\/span>Maya.env<\/code><\/pre>\n<p>If that doesn&#8217;t fix it, just disable color management error popups altogether:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">echo \"MAYA_CM_DISABLE_ERROR_POPUPS=1\" &gt;&gt; ~\/maya\/2018\/Maya.envecho \"MAYA_COLOR_MGT_NO_LOGGING=1\" &gt;&gt; ~\/maya\/2018\/Maya.env<\/pre>\n<p>&nbsp;<\/p>\n<p>Next, you need to grant permissions to the following folders, this is so you don&#8217;t have to launch Maya as a superuser (which means you can actually launch it from the Menu like a normal person)<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">chmod -Rfv 777 ~\/maya \r\nchmod -Rfv 777 \/var\/opt\/Autodesk\/\r\nchmod -Rfv 777 \/usr\/local\/share\/macrovision\/storage\/FLEXnet\/<\/pre>\n<p>&nbsp;<\/p>\n<p>Now run the following commands to configure the fonts for Maya:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">xset +fp \/usr\/share\/fonts\/X11\/100dpi\/\r\nxset +fp \/usr\/share\/fonts\/X11\/75dpi\/\r\nxset +fp rehash<\/pre>\n<p>&nbsp;<\/p>\n<h4>Misc stuffs:<\/h4>\n<p>Fix Maya camera modifier key:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">gsettings set org.gnome.desktop.wm.preferences mouse-button-modifier \"Super\"<\/pre>\n<p>&nbsp;<\/p>\n<p>Restore the rpm that we backed up in Step 3<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">sudo rm -v \/usr\/bin\/rpm\r\nsudo mv -v \/usr\/bin\/rpm_backup \/usr\/bin\/rpm<\/pre>\n<p>&nbsp;<\/p>\n<h4>Run Maya 2018.3<\/h4>\n<p>Launch it from the menu or from<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"null\">\/usr\/autodesk\/maya2018\/bin\/maya.bin<\/pre>\n<p>&nbsp;<\/p>\n<p>And pray that it works, because after all them hoops you have to jump through, I&#8217;m sure you&#8217;d be real pissed if it doesn&#8217;t<\/p>\n<\/div><\/div><\/div><\/div><div class = \"tatsu-column-bg-image-wrap\"><div class = \"tatsu-column-bg-image\" ><\/div><\/div><\/div><style>.tatsu-fuctf4quz49g6nqk.tatsu-column > .tatsu-column-inner > .tatsu-column-overlay{mix-blend-mode: none;}.tatsu-fuctf4quz49g6nqk > .tatsu-column-inner > .tatsu-top-divider{z-index: 9999;}.tatsu-fuctf4quz49g6nqk > .tatsu-column-inner > .tatsu-bottom-divider{z-index: 9999;}.tatsu-fuctf4quz49g6nqk > .tatsu-column-inner > .tatsu-left-divider{z-index: 9999;}.tatsu-fuctf4quz49g6nqk > .tatsu-column-inner > .tatsu-right-divider{z-index: 9999;}.tatsu-fuctf4quz49g6nqk.tatsu-column{transform: translate3d(0px,0px, 0);}<\/style><\/div><\/div><\/div><\/div><div class=\"tatsu-section-background-wrap\"><div class = \"tatsu-section-background\" ><\/div><\/div><style>.tatsu-fuctf4qujl6k8y1b .tatsu-section-pad{padding: 15px 0px 15px 0px;}.tatsu-fuctf4qujl6k8y1b.tatsu-section{margin: 0px 0px 0px 0px;}.tatsu-fuctf4qujl6k8y1b > .tatsu-bottom-divider{z-index: 9999;}.tatsu-fuctf4qujl6k8y1b > .tatsu-top-divider{z-index: 9999;}<\/style><\/div>\n","protected":false},"excerpt":{"rendered":"<p>Okay so this is pretty much a journal of how I managed to get Maya to run for the first time on one my my Linux boxes. As you may [&hellip;]<\/p>\n<p><a href=\"https:\/\/namvu.net\/2018\/08\/installing-autodesk-maya-2018-update-3-on-deepin-linux-15-6\/\" class=\"more-link style2-button\">Read More<\/a><\/p>","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"ghostkit_customizer_options":"","ghostkit_custom_css":"","ghostkit_custom_js_head":"","ghostkit_custom_js_foot":"","ghostkit_typography":"","footnotes":""},"categories":[334,335],"tags":[],"_links":{"self":[{"href":"https:\/\/namvu.net\/wp-json\/wp\/v2\/posts\/3818"}],"collection":[{"href":"https:\/\/namvu.net\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/namvu.net\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/namvu.net\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/namvu.net\/wp-json\/wp\/v2\/comments?post=3818"}],"version-history":[{"count":0,"href":"https:\/\/namvu.net\/wp-json\/wp\/v2\/posts\/3818\/revisions"}],"wp:attachment":[{"href":"https:\/\/namvu.net\/wp-json\/wp\/v2\/media?parent=3818"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/namvu.net\/wp-json\/wp\/v2\/categories?post=3818"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/namvu.net\/wp-json\/wp\/v2\/tags?post=3818"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}